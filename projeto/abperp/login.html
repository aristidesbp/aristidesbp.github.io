<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login - ERP ABP Profissional</title>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root { --primary: #3ecf8e; --dark: #0f172a; --bg: #0f172a; }
        body { font-family: 'Inter', sans-serif; background: var(--bg); display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; color: white; }
        .login-card { background: #1e293b; padding: 40px; border-radius: 16px; box-shadow: 0 20px 25px -5px rgba(0,0,0,0.5); width: 100%; max-width: 400px; text-align: center; }
        .brand { font-size: 1.5rem; font-weight: 700; margin-bottom: 30px; }
        .brand span { color: var(--primary); }
        input { width: 100%; padding: 12px; margin: 10px 0; border-radius: 8px; border: 1px solid #334155; background: #0f172a; color: white; box-sizing: border-box; }
        button { width: 100%; padding: 12px; margin-top: 20px; border-radius: 8px; border: none; background: var(--primary); color: var(--dark); font-weight: 700; cursor: pointer; transition: 0.3s; }
        button:hover { background: #36b87d; transform: translateY(-2px); }
        .footer-links { margin-top: 20px; font-size: 0.85rem; color: #94a3b8; }
        .footer-links a { color: var(--primary); text-decoration: none; }
    </style>
</head>
<body>
    <div class="login-card">
        <div class="brand"><span>●</span> ERP ABP PROFISSIONAL</div>
        <p id="msg">Acesse sua conta para gerenciar seu negócio</p>
        <input type="email" id="email" placeholder="Seu e-mail">
        <input type="password" id="password" placeholder="Sua senha">
        <button onclick="handleLogin()">Entrar no Sistema</button>
        <div class="footer-links">
            <a href="#" onclick="handleSignUp()">Criar conta</a> | 
            <a href="#" onclick="handleReset()">Esqueci a senha</a>
        </div>
    </div>

    <script>
        // Configurações vindas da sua memória
        const URL = 'https://wgmouroyptgdsgbvyrvg.supabase.co';
        const KEY = 'sb_publishable_QFcFrpO1NJCI3-gkyYqkQA_P5qQ5w1J';
        const _supabase = supabase.createClient(URL, KEY);

        async function handleLogin() {
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            const { error } = await _supabase.auth.signInWithPassword({ email, password });
            if (error) alert("Erro: " + error.message);
            else window.location.href = 'index.html';
        }

        async function handleSignUp() {
            const email = prompt("Digite seu e-mail para cadastro:");
            const password = prompt("Digite uma senha (mínimo 6 caracteres):");
            if (email && password) {
                const { error } = await _supabase.auth.signUp({ email, password });
                if (error) alert(error.message);
                else alert("Verifique seu e-mail para confirmar o cadastro!");
            }
        }
    </script>
</body>
</html>
