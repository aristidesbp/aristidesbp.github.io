# CONFIGURAÇAO INICIAL NO SUPABASE
**Authentication/URL Configuration/ Site URL**:
Configure o URL de redirecionamento padrão usado quando um URL de redirecionamento não é especificado ou não corresponde a um da lista de permitidas. Esse valor também é exposto como uma variável de modelo na seção de modelos de email. Wildcards não podem ser usados aqui.
**EXEMPLO**:
```
https://aristidesbp.github.io
```

# CRIAR TABELA USUARIOS
```
create table public.usuarios (
  id bigint generated by default as identity not null,
  created_at timestamp with time zone not null default now(),
  user_id uuid null,
  nome_completo text null,
  bio text null,
  avatar_url text null,
  constraint usuarios_pkey primary key (id),
  constraint usuarios_user_id_fkey foreign KEY (user_id) references auth.users (id)
) TABLESPACE pg_default;
```
# FUNCTION TRIGGER
```
-- 1. Criar a função que insere os dados na tabela public.usuarios
create or replace function public.handle_new_user()
returns trigger
language plpgsql
security definer set search_path = public
as $$
begin
  insert into public.usuarios (user_id, nome_completo, avatar_url)
  values (
    new.id, 
    new.raw_user_meta_data->>'full_name', -- Tenta pegar o nome dos metadados (ex: Google Login)
    new.raw_user_meta_data->>'avatar_url' -- Tenta pegar a foto dos metadados
  );
  return new;
end;
$$;

-- 2. Criar o gatilho (trigger) que dispara após um novo registro em auth.users
create trigger on_auth_user_created
  after insert on auth.users
  for each row execute procedure public.handle_new_user();
```












